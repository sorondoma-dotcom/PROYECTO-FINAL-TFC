<mat-sidenav-container class="sidenav-container">
  <!-- Sidenav para móvil -->
  <mat-sidenav #sidenav mode="over" class="mobile-sidenav">
    <div class="sidenav-header">
      <mat-icon class="logo-icon">pool</mat-icon>
      <h2>SwimLive</h2>
      <button mat-icon-button (click)="sidenav.close()" class="close-btn">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <mat-nav-list>
      @for (item of menuItems; track item.route) {
        <a mat-list-item
           [routerLink]="item.route"
           routerLinkActive="active-link"
           (click)="sidenav.close()">
          <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
          <span matListItemTitle>{{ item.label }}</span>
        </a>
      }
    </mat-nav-list>
  </mat-sidenav>

  <!-- Contenido principal -->
  <mat-sidenav-content>
    <!-- Navbar principal -->
    <mat-toolbar class="navbar">
      <div class="navbar-container">
        <!-- Logo y título -->
        <div class="logo-section">
          <button mat-icon-button class="menu-btn" (click)="sidenav.toggle()">
            <mat-icon>menu</mat-icon>
          </button>

          <div class="logo" [routerLink]="'/'">
            <mat-icon class="logo-icon animate-swim">pool</mat-icon>
            <span class="logo-text">
              <span class="logo-swim">Swim</span>
              <span class="logo-live">Live</span>
            </span>
          </div>
        </div>

        <!-- Menú desktop -->
        <nav class="desktop-menu">
          @for (item of menuItems; track item.route) {
            <a mat-button
               [routerLink]="item.route"
               routerLinkActive="active-nav-link"
               [matTooltip]="item.label"
               matTooltipPosition="below">
              <mat-icon>{{ item.icon }}</mat-icon>
              <span>{{ item.label }}</span>
            </a>
          }
        </nav>

        <!-- Botones de acción -->
        <div class="action-buttons">
          <button mat-icon-button
                  (click)="toggleTheme()"
                  [matTooltip]="isDarkMode ? 'Modo claro' : 'Modo oscuro'"
                  class="theme-toggle">
            <mat-icon>{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</mat-icon>
          </button>

          <button mat-icon-button
                  matTooltip="Notificaciones"
                  class="notification-btn"
                  aria-label="Notificaciones, 3 nuevas">
            <mat-icon [matBadge]="3"
                      matBadgeColor="warn"
                      matBadgeSize="small"
                      aria-hidden="false"
                      [attr.aria-label]="'Tienes 3 notificaciones nuevas'">notifications</mat-icon>
          </button>

          <button mat-raised-button color="primary" class="cta-button">
            <mat-icon>add</mat-icon>
            Nueva Competición
          </button>
        </div>
      </div>
    </mat-toolbar>

    <!-- Aquí va el contenido de la página -->
    <div class="page-content">
      <ng-content></ng-content>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
